```{r}
#Question: look at vs additions

##install if needed
if(!require("dplyr")) install.packages("dplyr")
if(!require("janitor")) install.packages("janitor")
if(!require("ggplot2")) install.packages("ggplot2")
if(!require("tidyr")) install.packages("tidyr")
if(!require("readr")) install.packages("readr")
if(!require("caTools")) install.packages("caTools")


##bring in libraries
library(dplyr)
library(janitor)
library(ggplot2)
library(tidyr)
library(readr)
library(caTools)


##pull and shrink data
coffee_df <- read_csv("C:/Users/grego/Downloads/coffee_survey.csv")

clean_coffee_df <- coffee_df[!apply(coffee_df[, -1], 1, function(x) all(is.na(x))), ] #remove data if everything is NA

clean_coffee_df <- clean_coffee_df %>%
  mutate(age = case_when(
    age == "<18 years old" ~ "0-17 years old",
    age == ">65 years old" ~ "65+ years old",
    TRUE ~ age
  )) %>%
  mutate(caffeine = case_when(
    caffeine == "Full caffeine" ~ "1",
    caffeine == "Half caff" ~ "0.5",
    caffeine == "Decaf" ~ "0",
    TRUE ~ caffeine
  )) %>%
  mutate(strength = case_when(
    strength == "Weak" ~ "1",
    strength == "Somewhat light" ~ "2",
    strength == "Medium" ~ "3",
    strength == "Somewhat strong" ~ "4",
    strength == "Very strong" ~ "5",
    TRUE ~ strength
  )) %>%
  mutate(roast_level = case_when(
    roast_level == "Blonde" ~ "1",
    roast_level == "Nordic" ~ "1.5",
    roast_level == "Light" ~ "2",
    roast_level == "Medium" ~ "2.5",
    roast_level == "Dark" ~ "3",
    roast_level == "French" ~ "3.5",
    roast_level == "Italian" ~ "4",
    TRUE ~ roast_level
  )) # Make properly alphabetized

# clean_coffee_df <- clean_coffee_df %>%
#   mutate(age = case_when(
#         age == "0-17 years old" ~ "1",
#         age == "18-24 years old" ~ "2",
#         age == "25-34 years old" ~ "3",
#         age == "35-44 years old" ~ "4",
#         age == "45-54 years old" ~ "5",
#         age == "55-64 years old" ~ "6",
#         age == "65+ years old" ~ "7",
#         TRUE ~ age
#   ))


new_coffee_df <- clean_coffee_df %>%
  filter(!is.na(age), !is.na(strength), !is.na(roast_level), !is.na(caffeine)) %>%
  dplyr::select(age, strength, roast_level, caffeine) %>%
  arrange(age, strength, roast_level, caffeine)

new_coffee_df
```